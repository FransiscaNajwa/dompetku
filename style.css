/* ===========================
   DOMPETKU â€” style.css v2
   =========================== */

:root {
  --bg:            #f0f5fb;
  --surface:       #ffffff;
  --surface2:      #e8f0fa;
  --primary:       #4a86c8;
  --primary-light: #6fa3de;
  --primary-dark:  #2d6aad;
  --accent:        #7ec8c8;
  --accent2:       #a8d5e2;
  --text:          #1e3a5f;
  --text-muted:    #6e8fae;
  --text-light:    #9db8d2;
  --income:        #5ab08a;
  --expense:       #e07b7b;
  --saving:        #7a9fd4;
  --invest:        #b07aad;
  --border:        #ccdff5;
  --shadow:        0 4px 24px rgba(74,134,200,0.10);
  --shadow-lg:     0 12px 48px rgba(74,134,200,0.18);
  --radius:        16px;
  --radius-sm:     10px;
}

*,*::before,*::after { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'DM Sans',sans-serif; background:var(--bg); color:var(--text); min-height:100vh; overflow-x:hidden; }
.hidden { display:none !important; }

/* ===== AUTH ===== */
#auth-screen {
  min-height:100vh; display:flex; align-items:center; justify-content:center;
  background:linear-gradient(135deg,#ddeeff 0%,#c5daf5 40%,#b8d4ed 100%);
  position:relative; overflow:hidden;
}
#auth-screen::before {
  content:''; position:absolute; width:600px; height:600px; border-radius:50%;
  background:radial-gradient(circle,rgba(126,200,200,0.25) 0%,transparent 70%);
  top:-200px; right:-100px; pointer-events:none;
}
#auth-screen::after {
  content:''; position:absolute; width:400px; height:400px; border-radius:50%;
  background:radial-gradient(circle,rgba(74,134,200,0.15) 0%,transparent 70%);
  bottom:-100px; left:-50px; pointer-events:none;
}
.auth-card {
  background:rgba(255,255,255,0.88); backdrop-filter:blur(20px);
  border:1px solid rgba(255,255,255,0.7); border-radius:32px;
  padding:60px 56px; width:520px; max-width:95vw;
  box-shadow:var(--shadow-lg); position:relative; z-index:1;
  animation:fadeUp 0.6s ease;
}
@keyframes fadeUp { from{opacity:0;transform:translateY(30px)} to{opacity:1;transform:translateY(0)} }
.auth-logo { font-family:'Playfair Display',serif; font-size:2.4rem; color:var(--primary-dark); margin-bottom:8px; }
.auth-tagline { color:var(--text-muted); font-size:1rem; margin-bottom:40px; font-weight:300; }
.auth-tabs { display:flex; background:var(--surface2); border-radius:var(--radius-sm); padding:4px; margin-bottom:28px; }
.auth-tab { flex:1; padding:10px; border:none; background:none; border-radius:8px; font-family:'DM Sans',sans-serif; font-size:0.9rem; color:var(--text-muted); cursor:pointer; transition:all 0.25s; font-weight:500; }
.auth-tab.active { background:white; color:var(--primary); box-shadow:0 2px 8px rgba(74,134,200,0.15); }
.auth-error { color:var(--expense); font-size:0.82rem; margin-top:10px; text-align:center; display:none; }

/* ===== FORM ===== */
.form-group { margin-bottom:18px; }
.form-label { display:block; font-size:0.78rem; font-weight:600; color:var(--text-muted); margin-bottom:7px; letter-spacing:0.3px; text-transform:uppercase; }
.form-input { width:100%; padding:14px 16px; border:1.5px solid var(--border); border-radius:var(--radius-sm); font-family:'DM Sans',sans-serif; font-size:0.95rem; color:var(--text); background:var(--surface); transition:border-color 0.2s,box-shadow 0.2s; outline:none; }
.form-input:focus { border-color:var(--primary-light); box-shadow:0 0 0 3px rgba(74,134,200,0.12); }
select.form-input { appearance:none; background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='%236e8fae' viewBox='0 0 16 16'%3E%3Cpath d='M7.247 11.14L2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/%3E%3C/svg%3E"); background-repeat:no-repeat; background-position:right 14px center; padding-right:40px; cursor:pointer; }
.form-hint { font-size:0.75rem; color:var(--text-light); margin-top:5px; }

/* ===== BUTTONS ===== */
.btn-primary { width:100%; padding:14px; background:linear-gradient(135deg,var(--primary),var(--primary-dark)); color:white; border:none; border-radius:var(--radius-sm); font-family:'DM Sans',sans-serif; font-size:0.95rem; font-weight:600; cursor:pointer; transition:all 0.25s; margin-top:8px; }
.btn-primary:hover { transform:translateY(-1px); box-shadow:0 8px 24px rgba(74,134,200,0.35); }
.btn-logout { padding:7px 16px; border:1.5px solid var(--border); border-radius:8px; background:none; color:var(--text-muted); font-family:'DM Sans',sans-serif; font-size:0.82rem; cursor:pointer; transition:all 0.2s; font-weight:500; }
.btn-logout:hover { border-color:var(--expense); color:var(--expense); }
.btn-add { padding:12px 24px; background:linear-gradient(135deg,var(--primary),var(--primary-dark)); color:white; border:none; border-radius:var(--radius-sm); font-family:'DM Sans',sans-serif; font-size:0.9rem; font-weight:600; cursor:pointer; transition:all 0.25s; white-space:nowrap; }
.btn-add:hover { transform:translateY(-1px); box-shadow:0 8px 20px rgba(74,134,200,0.3); }
.btn-export { padding:10px 20px; background:linear-gradient(135deg,#5ab08a,#3d8a65); color:white; border:none; border-radius:var(--radius-sm); font-family:'DM Sans',sans-serif; font-size:0.88rem; font-weight:600; cursor:pointer; transition:all 0.25s; white-space:nowrap; }
.btn-export:hover { transform:translateY(-1px); box-shadow:0 6px 16px rgba(90,176,138,0.35); }
.btn-icon { padding:6px 10px; border:1.5px solid var(--border); border-radius:8px; background:white; cursor:pointer; font-size:0.9rem; transition:all 0.2s; color:var(--text-muted); }
.btn-icon:hover { border-color:var(--primary-light); color:var(--primary); }
.btn-del { background:none; border:none; color:var(--text-light); cursor:pointer; padding:6px; border-radius:6px; font-size:0.9rem; transition:all 0.2s; margin-left:12px; }
.btn-del:hover { color:var(--expense); background:rgba(224,123,123,0.1); }
.btn-del-cat { margin-left:auto; background:none; border:none; color:var(--text-light); cursor:pointer; font-size:0.85rem; padding:3px 6px; border-radius:4px; transition:all 0.2s; }
.btn-del-cat:hover { color:var(--expense); background:rgba(224,123,123,0.1); }
.btn-sm { padding:11px 18px; background:var(--surface2); border:1.5px solid var(--border); border-radius:var(--radius-sm); color:var(--text); font-family:'DM Sans',sans-serif; font-size:0.88rem; font-weight:600; cursor:pointer; transition:all 0.2s; white-space:nowrap; }
.btn-sm:hover { border-color:var(--primary); color:var(--primary); }
.btn-primary-sm { background:var(--primary); color:white; border-color:var(--primary); }
.btn-primary-sm:hover { background:var(--primary-dark); border-color:var(--primary-dark); color:white; box-shadow:0 4px 14px rgba(74,134,200,0.3); }
.btn-danger { padding:10px 20px; background:rgba(224,123,123,0.1); border:1.5px solid var(--expense); color:var(--expense); border-radius:var(--radius-sm); font-family:'DM Sans',sans-serif; font-size:0.88rem; font-weight:600; cursor:pointer; transition:all 0.2s; }
.btn-danger:hover { background:var(--expense); color:white; }
.btn-danger-outline { background:none; }

/* ===== APP LAYOUT ===== */
#app-screen { display:none; min-height:100vh; }
.app-header { background:white; border-bottom:1px solid var(--border); padding:0 24px; height:64px; display:flex; align-items:center; justify-content:space-between; position:sticky; top:0; z-index:100; box-shadow:0 2px 12px rgba(74,134,200,0.08); gap:16px; }
.header-logo { font-family:'Playfair Display',serif; font-size:1.4rem; color:var(--primary-dark); letter-spacing:-0.3px; white-space:nowrap; }
.header-center { flex:1; display:flex; justify-content:center; }
.header-right { display:flex; align-items:center; gap:12px; }
.header-user { font-size:0.82rem; color:var(--text-muted); font-weight:500; white-space:nowrap; }

/* Semester bar */
.semester-bar { display:flex; align-items:center; gap:8px; background:var(--surface2); border-radius:10px; padding:6px 12px; border:1px solid var(--border); }
.semester-label { font-size:0.8rem; color:var(--text-muted); font-weight:600; white-space:nowrap; }
.semester-bar select { border:none; background:none; font-family:'DM Sans',sans-serif; font-size:0.88rem; color:var(--text); font-weight:600; outline:none; cursor:pointer; }

.app-nav { background:white; border-bottom:1px solid var(--border); display:flex; padding:0 24px; gap:2px; overflow-x:auto; }
.nav-tab { padding:13px 18px; border:none; background:none; font-family:'DM Sans',sans-serif; font-size:0.85rem; color:var(--text-muted); cursor:pointer; border-bottom:2.5px solid transparent; transition:all 0.2s; font-weight:500; display:flex; align-items:center; gap:6px; white-space:nowrap; }
.nav-tab.active { color:var(--primary); border-bottom-color:var(--primary); }
.nav-tab:hover { color:var(--primary); }

.app-content { padding:28px 36px; }

/* Month nav */
.month-nav { display:flex; align-items:center; gap:4px; }

/* ===== PAGE HEADER ===== */
.page-header { display:flex; align-items:center; justify-content:space-between; margin-bottom:24px; flex-wrap:wrap; gap:12px; }
.page-title { font-family:'Playfair Display',serif; font-size:1.7rem; color:var(--text); font-weight:600; }
.page-subtitle { font-size:0.85rem; color:var(--text-muted); margin-top:3px; }

/* ===== CARDS ===== */
.card { background:white; border-radius:var(--radius); padding:24px; box-shadow:var(--shadow); border:1px solid rgba(200,220,245,0.5); }
.card-title { font-size:0.78rem; font-weight:600; text-transform:uppercase; letter-spacing:0.5px; color:var(--text-muted); margin-bottom:8px; }
.chart-card { padding:20px; }
.chart-card .card-title { margin-bottom:14px; }

/* ===== STATS ===== */
.stats-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:16px; margin-bottom:20px; }
.stats-grid.five-col { grid-template-columns:repeat(5,1fr); }
.stat-card { background:white; border-radius:var(--radius); padding:20px 22px; border:1px solid var(--border); position:relative; overflow:hidden; }
.stat-card::before { content:''; position:absolute; top:0; right:0; width:70px; height:70px; border-radius:50%; opacity:0.07; transform:translate(25px,-25px); }
.stat-card.balance::before      { background:var(--primary); }
.stat-card.income-card::before  { background:var(--income); }
.stat-card.expense-card::before { background:var(--expense); }
.stat-card.saving-card::before  { background:var(--saving); }
.stat-card.invest-card::before  { background:var(--invest); }
.stat-label { font-size:0.75rem; font-weight:600; text-transform:uppercase; letter-spacing:0.5px; margin-bottom:8px; color:var(--text-muted); }
.stat-value { font-family:'Playfair Display',serif; font-size:1.5rem; font-weight:600; }
.stat-balance { color:var(--primary-dark); }
.stat-income  { color:var(--income); }
.stat-expense { color:var(--expense); }
.stat-saving  { color:var(--saving); }
.stat-invest  { color:var(--invest); }

/* ===== CHARTS ===== */
.charts-grid { display:grid; grid-template-columns:1fr 1fr; gap:20px; margin-bottom:20px; }
.chart-wrap { position:relative; height:300px; }

/* ===== TRANS FORM ===== */
.trans-form { display:grid; grid-template-columns:2fr 1fr 1fr 1fr; gap:16px; }

/* ===== TRANS LIST ===== */
.trans-list { display:flex; flex-direction:column; gap:10px; }
.trans-item { display:flex; align-items:center; justify-content:space-between; padding:14px 18px; background:white; border-radius:var(--radius-sm); border:1px solid var(--border); transition:all 0.2s; animation:slideIn 0.3s ease; }
@keyframes slideIn { from{opacity:0;transform:translateX(-10px)} to{opacity:1;transform:translateX(0)} }
.trans-item:hover { box-shadow:var(--shadow); border-color:var(--accent2); }
.trans-left { display:flex; align-items:center; gap:14px; }
.trans-right { display:flex; align-items:center; }
.trans-icon { width:40px; height:40px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:1rem; flex-shrink:0; background:rgba(74,134,200,0.1); }
.trans-name { font-weight:600; font-size:0.92rem; color:var(--text); }
.trans-meta { font-size:0.76rem; color:var(--text-muted); margin-top:2px; }
.trans-amount { font-weight:700; font-size:0.95rem; }
.trans-amount.income  { color:var(--income); }
.trans-amount.expense { color:var(--expense); }
.empty-state { text-align:center; padding:48px 24px; color:var(--text-light); }
.empty-state .empty-icon { font-size:2.5rem; margin-bottom:12px; opacity:0.5; }

/* ===== PERIOD TABS ===== */
.period-tabs { display:flex; gap:8px; margin-bottom:16px; flex-wrap:wrap; }
.period-tab { padding:9px 18px; border:1.5px solid var(--border); border-radius:30px; background:white; font-family:'DM Sans',sans-serif; font-size:0.84rem; color:var(--text-muted); cursor:pointer; transition:all 0.2s; font-weight:500; }
.period-tab.active { background:var(--primary); color:white; border-color:var(--primary); }
.period-tab:hover:not(.active) { border-color:var(--primary-light); color:var(--primary); }

/* ===== EXPENSE CATEGORY GRID ===== */
.expense-cat-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:12px; margin-top:16px; }
.expense-cat-item { display:flex; align-items:center; gap:10px; padding:10px 12px; background:var(--surface2); border-radius:var(--radius-sm); border:1px solid var(--border); }
.expense-cat-item label { font-size:0.85rem; font-weight:500; color:var(--text); flex:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.expense-cat-item input { width:130px; padding:7px 10px; border:1.5px solid var(--border); border-radius:8px; font-family:'DM Sans',sans-serif; font-size:0.88rem; color:var(--text); background:white; outline:none; text-align:right; transition:border-color 0.2s; flex-shrink:0; }
.expense-cat-item input:focus { border-color:var(--primary-light); }
.expense-period-total { margin-top:16px; padding:12px 16px; background:var(--surface2); border-radius:var(--radius-sm); font-weight:700; color:var(--expense); font-size:0.95rem; text-align:right; border:1px solid var(--border); }

/* ===== RECAP TABLE ===== */
.recap-table { width:100%; border-collapse:collapse; font-size:0.85rem; }
.recap-table th { background:var(--surface2); color:var(--text-muted); font-weight:600; font-size:0.75rem; text-transform:uppercase; letter-spacing:0.3px; padding:10px 14px; text-align:left; border-bottom:2px solid var(--border); white-space:nowrap; }
.recap-table td { padding:10px 14px; border-bottom:1px solid rgba(200,220,245,0.5); color:var(--text); }
.recap-table tr:last-child td { border-bottom:none; }
.recap-table tr:hover td { background:rgba(232,240,250,0.5); }
.recap-table .total-row td { font-weight:700; background:var(--surface2); border-top:2px solid var(--border); }
.recap-table .num { text-align:right; font-weight:500; }
.recap-table .positive { color:var(--income); }
.recap-table .negative { color:var(--expense); }

/* ===== BUDGET GRID ===== */
.budget-cat-item { display:flex; align-items:center; gap:12px; padding:10px 0; border-bottom:1px solid rgba(200,220,245,0.4); }
.budget-cat-item:last-child { border-bottom:none; }
.budget-cat-label { flex:1; font-size:0.9rem; font-weight:500; color:var(--text); }
.budget-cat-item input { width:160px; padding:8px 12px; border:1.5px solid var(--border); border-radius:8px; font-family:'DM Sans',sans-serif; font-size:0.9rem; color:var(--text); background:white; outline:none; text-align:right; transition:border-color 0.2s; }
.budget-cat-item input:focus { border-color:var(--primary-light); }
.progress-bar-wrap { width:120px; height:8px; background:var(--surface2); border-radius:4px; overflow:hidden; }
.progress-bar { height:100%; border-radius:4px; transition:width 0.3s; }
.progress-bar.ok   { background:var(--income); }
.progress-bar.warn { background:#f0c05a; }
.progress-bar.over { background:var(--expense); }
.progress-pct { font-size:0.75rem; color:var(--text-muted); min-width:36px; text-align:right; }

/* ===== CATS / PLATFORMS / PORTFOLIOS ===== */
.cats-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(170px,1fr)); gap:10px; }
.cat-chip { display:flex; align-items:center; gap:8px; padding:11px 14px; background:white; border:1.5px solid var(--border); border-radius:var(--radius-sm); font-size:0.88rem; font-weight:500; color:var(--text); transition:all 0.2s; }
.cat-chip:hover { border-color:var(--primary-light); box-shadow:var(--shadow); }
.cat-emoji { font-size:1.1rem; }
.add-cat-form { display:flex; gap:12px; align-items:flex-end; flex-wrap:wrap; }
.emoji-input { width:76px; text-align:center; font-size:1.1rem; }

/* ===== SAVING/INVEST TABLE INPUT ===== */
.editable-input { width:100%; padding:6px 8px; border:1.5px solid var(--border); border-radius:6px; font-family:'DM Sans',sans-serif; font-size:0.85rem; color:var(--text); background:white; outline:none; text-align:right; transition:border-color 0.2s; min-width:100px; }
.editable-input:focus { border-color:var(--primary-light); }

/* ===== PROFILE ===== */
.profile-layout { display:grid; grid-template-columns:280px 1fr; gap:24px; }
.profile-avatar-card { text-align:center; padding:32px 24px; }
.avatar-circle { width:80px; height:80px; border-radius:50%; background:linear-gradient(135deg,var(--primary),var(--primary-dark)); color:white; font-size:2rem; font-weight:700; display:flex; align-items:center; justify-content:center; margin:0 auto 16px; }
.profile-display-name { font-family:'Playfair Display',serif; font-size:1.2rem; color:var(--text); font-weight:600; }
.profile-display-email { font-size:0.85rem; color:var(--text-muted); margin-top:4px; }
.profile-stats-mini { display:flex; justify-content:center; gap:0; margin-top:20px; background:var(--surface2); border-radius:12px; padding:14px; }
.profile-stat-item { text-align:center; flex:1; }
.profile-stat-value { font-family:'Playfair Display',serif; font-size:1.2rem; color:var(--primary-dark); font-weight:600; }
.profile-stat-label { font-size:0.72rem; color:var(--text-muted); margin-top:3px; text-transform:uppercase; letter-spacing:0.3px; }
.profile-stat-divider { width:1px; background:var(--border); margin:0 4px; }
.profile-main { display:flex; flex-direction:column; gap:20px; }
.profile-section { padding:24px; }
.profile-section-title { font-size:0.95rem; font-weight:700; color:var(--text); margin-bottom:18px; padding-bottom:12px; border-bottom:1px solid var(--border); }
.profile-form-grid { display:grid; grid-template-columns:1fr 1fr; gap:16px; }
.profile-info-err { font-size:0.82rem; color:var(--expense); margin-top:6px; display:none; }
.input-password-wrap { position:relative; }
.input-password-wrap .form-input { padding-right:48px; }
.btn-toggle-pass { position:absolute; right:12px; top:50%; transform:translateY(-50%); background:none; border:none; cursor:pointer; font-size:1rem; color:var(--text-muted); }
.danger-zone { border:1px solid rgba(224,123,123,0.3) !important; }
.danger-zone .profile-section-title { color:var(--expense); border-bottom-color:rgba(224,123,123,0.2); }
.danger-desc { font-size:0.88rem; color:var(--text-muted); }

/* ===== MODAL ===== */
.modal-overlay { position:fixed; inset:0; background:rgba(30,58,95,0.4); z-index:999; display:flex; align-items:center; justify-content:center; backdrop-filter:blur(4px); }
.modal-card { background:white; border-radius:var(--radius); padding:32px; width:520px; max-width:95vw; box-shadow:var(--shadow-lg); animation:fadeUp 0.3s ease; max-height:90vh; overflow-y:auto; }
.modal-title { font-family:'Playfair Display',serif; font-size:1.3rem; color:var(--text); margin-bottom:20px; }
.semester-item { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; background:var(--surface2); border-radius:var(--radius-sm); margin-bottom:8px; border:1.5px solid transparent; transition:all 0.2s; }
.semester-item.active-sem { border-color:var(--primary); background:rgba(74,134,200,0.08); }
.semester-item-name { font-weight:600; font-size:0.9rem; color:var(--text); }
.semester-item-range { font-size:0.78rem; color:var(--text-muted); margin-top:2px; }

/* ===== TOAST ===== */
.toast { position:fixed; bottom:28px; left:50%; transform:translateX(-50%) translateY(80px); background:var(--text); color:white; padding:12px 24px; border-radius:30px; font-size:0.88rem; font-weight:500; transition:transform 0.35s cubic-bezier(0.34,1.56,0.64,1); z-index:9999; box-shadow:0 8px 24px rgba(30,58,95,0.25); pointer-events:none; }
.toast.show { transform:translateX(-50%) translateY(0); }

/* ===== RESPONSIVE ===== */
@media (max-width:1100px) {
  .stats-grid.five-col { grid-template-columns:repeat(3,1fr); }
  .trans-form { grid-template-columns:1fr 1fr; }
}
@media (max-width:800px) {
  .app-content { padding:20px 16px; }
  .charts-grid { grid-template-columns:1fr; }
  .stats-grid { grid-template-columns:1fr 1fr; }
  .stats-grid.five-col { grid-template-columns:1fr 1fr; }
  .profile-layout { grid-template-columns:1fr; }
  .profile-form-grid { grid-template-columns:1fr; }
  .trans-form { grid-template-columns:1fr; }
  .page-title { font-size:1.3rem; }
  .header-user { display:none; }
  .semester-label { display:none; }
}
@media (max-width:480px) {
  .auth-card { padding:32px 24px; }
  .stats-grid { grid-template-columns:1fr; }
}